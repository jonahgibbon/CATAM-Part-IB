
% This LaTeX was auto-generated from MATLAB code.
% To make changes, update the MATLAB code and republish this document.

\documentclass{article}
\usepackage{graphicx}
\usepackage{color}

\sloppy
\definecolor{lightgray}{gray}{0.5}
\setlength{\parindent}{0pt}

\begin{document}

    
    \begin{verbatim}
%Formats the output
format short g
digits(5)

data=Euler(0,1,0,0.1)
%Creates Latex code for the table
latex(sym(vpa(data)))
data=RK4(0,1,0,0.1)
latex(sym(vpa(data)))

function data = Euler(x_0,x_n,y_0,h)
%Creates a table to be filled
    data=zeros(ceil((x_n-x_0)/h)+1,5);
    data(1,:)=[x_0,y_0,y(x_0),y_0-y(x_0),0];
    counter=2;
%Iterates through the rows filling them
    while counter<=ceil((x_n-x_0)/h)+1
        data(counter,:)=[(counter-1)*h+x_0,...
            data(counter-1,2)+h*f((counter-2)*h+x_0,data(counter-1,2)),...
            y((counter-1)*h+x_0),...
            data(counter-1,2)+h*f((counter-2)*h+x_0,data(counter-1,2))-...
            y((counter-1)*h+x_0),...
            (data(counter-1,2)+h*f((counter-2)*h+x_0,data(counter-1,2))-...
            y((counter-1)*h+x_0))/data(counter-1,4)];
        counter=counter+1;
    end
end

function data = RK4(x_0,x_n,y_0,h)
%Follows a similar idea to the Euler function
    data=zeros(ceil((x_n-x_0)/h)+1,5);
    data(1,:)=[x_0,y_0,y(x_0),y_0-y(x_0),0];
    counter=2;
    while counter<=ceil((x_n-x_0)/h)+1
        k1=h*f((counter-2)*h+x_0,data(counter-1,2));
        k2=h*f((counter-2+1/2)*h+x_0,data(counter-1,2)+1/2*k1);
        k3=h*f((counter-2+1/2)*h+x_0,data(counter-1,2)+1/2*k2);
        k4=h*f((counter-2+1)*h+x_0,data(counter-1,2)+k3);
        data(counter,:)=[(counter-1)*h+x_0,...
            data(counter-1,2)+1/6*(k1+2*k2+2*k3+k4),...
            y((counter-1)*h+x_0),...
            data(counter-1,2)+1/6*(k1+2*k2+2*k3+k4)-y((counter-1)*h+x_0),...
            (data(counter-1,2)+1/6*(k1+2*k2+2*k3+k4)-y((counter-1)*h+x_0))/...
            data(counter-1,4)];
        counter=counter+1;
    end
end

%These two functions were created to stop repeatedly defining them in the
%above
function z = f(x,y)
    z = -4*y+4*exp(-2*x);
end

function z = y(x)
    z= -2*exp(-4*x)+2*exp(-2*x);
end
\end{verbatim}

        \color{lightgray} \begin{verbatim}
data =

            0            0            0            0            0
          0.1          0.4      0.29682      0.10318          Inf
          0.2      0.56749      0.44198      0.12551       1.2164
          0.3      0.60862      0.49523      0.11339      0.90342
          0.4       0.5847      0.49486     0.089834      0.79227
          0.5      0.53055      0.46509     0.065462      0.72871
          0.6      0.46548      0.42095      0.04453      0.68023
          0.7      0.39977      0.37157     0.028193      0.63313
          0.8       0.3385      0.32227      0.01623      0.57568
          0.9      0.28386      0.27595    0.0079077      0.48721
            1      0.23643      0.23404    0.0023951      0.30288


ans =

    '\left(\begin{array}{ccccc} 0 & 0 & 0 & 0 & 0\\ 0.1 & 0.4 & 0.29682 & 0.10318 & \infty \\ 0.2 & 0.56749 & 0.44198 & 0.12551 & 1.2164\\ 0.3 & 0.60862 & 0.49523 & 0.11339 & 0.90342\\ 0.4 & 0.5847 & 0.49486 & 0.089834 & 0.79227\\ 0.5 & 0.53055 & 0.46509 & 0.065462 & 0.72871\\ 0.6 & 0.46548 & 0.42095 & 0.04453 & 0.68023\\ 0.7 & 0.39977 & 0.37157 & 0.028193 & 0.63313\\ 0.8 & 0.3385 & 0.32227 & 0.01623 & 0.57568\\ 0.9 & 0.28386 & 0.27595 & 0.0079077 & 0.48721\\ 1.0 & 0.23643 & 0.23404 & 0.0023951 & 0.30288 \end{array}\right)'


data =

            0            0            0            0            0
          0.1      0.29671      0.29682  -0.00011492         -Inf
          0.2      0.44183      0.44198  -0.00014739       1.2826
          0.3      0.49509      0.49523   -0.0001405      0.95326
          0.4      0.49475      0.49486  -0.00011766      0.83745
          0.5        0.465      0.46509   -9.095e-05      0.77297
          0.6      0.42089      0.42095  -6.6062e-05      0.72636
          0.7      0.37153      0.37157  -4.5243e-05      0.68486
          0.8      0.32224      0.32227   -2.896e-05       0.6401
          0.9      0.27593      0.27595  -1.6849e-05      0.58181
            1      0.23403      0.23404  -8.2276e-06      0.48831


ans =

    '\left(\begin{array}{ccccc} 0 & 0 & 0 & 0 & 0\\ 0.1 & 0.29671 & 0.29682 & -0.00011492 & -\infty \\ 0.2 & 0.44183 & 0.44198 & -0.00014739 & 1.2826\\ 0.3 & 0.49509 & 0.49523 & -0.0001405 & 0.95326\\ 0.4 & 0.49475 & 0.49486 & -0.00011766 & 0.83745\\ 0.5 & 0.465 & 0.46509 & -0.00009095 & 0.77297\\ 0.6 & 0.42089 & 0.42095 & -0.000066062 & 0.72636\\ 0.7 & 0.37153 & 0.37157 & -0.000045243 & 0.68486\\ 0.8 & 0.32224 & 0.32227 & -0.00002896 & 0.6401\\ 0.9 & 0.27593 & 0.27595 & -0.000016849 & 0.58181\\ 1.0 & 0.23403 & 0.23404 & -8.2276e-6 & 0.48831 \end{array}\right)'

\end{verbatim} \color{black}
    


\end{document}
    
